---
title: "Estudo de Python e dados II"
subtitle: "Manipulação de dados: Preparação de dados, dados ausentes e Tidy data"
author: "Sergio Pedro Rodrigues Oliveira"
date: last-modified
date-format: DD MMMM YYYY
lang: pt
format:
    html:
        code-fold: true
        number-sections: true
    pdf:
      toc: false
      lof: false
      lot: false
      toc-depth: 5
      number-sections: true
      number-depth: 5
      colorlinks: true
      cite-method: biblatex
    docx:
      toc: true
      number-sections: true
      highlight-style: github
jupyter: python3
bibliography: Quarto/pythonbibliografia.bib
csl: Quarto/abnt.csl
---

\thispagestyle{empty}

\newpage
\pagenumbering{roman}

```{=latex}
\setcounter{tocdepth}{4}
\renewcommand{\contentsname}{SUMÁRIO}
\tableofcontents
```

\newpage

```{=latex}
\setcounter{tocdepth}{4}
\renewcommand{\listfigurename}{LISTA DE FIGURAS}
\listoffigures
```
\newpage

```{=latex}
\setcounter{tocdepth}{4}
\renewcommand{\listtablename}{LISTA DE TABELAS}
\listoftables
```

```{python}
#| echo: false
#| error: false
#| warning: false

# Bibliotecas para o funcionamento do documento Quarto

from IPython.display import Markdown
from tabulate import tabulate
import math
import statistics
import numpy as np
import pandas as pd
import json
import matplotlib.pyplot as plt
import seaborn as sns
```

\newpage
\pagenumbering{arabic}

# Objetivo

O objetivo deste estudo é explorar e documentar as funcionalidades essenciais das principais bibliotecas científicas do Python, como `NumPy`, `Pandas` e outras, através de exemplos práticos e casos de uso selecionados. Pretende-se consolidar o conhecimento sobre a manipulação, análise e visualização de dados, servindo como um guia de referência pessoal para futuros projetos de programação científica.

\newpage

# Preparação dos dados

## Introdução

A essa altura, você deverá ser capaz de carregar dados no `Pandas` e fazer algumas visualização básica. Essa parte do livro tem como foco várias tarefas de limpeza dos dados. Começaremos com a preparação de um conjunto de dados para análise por meio da combinação de diversos conjuntos.

### Mapa conceitual {.unnumbered}

#. Conhecimento prévio
   #. Carga de dados;
   #. Obtenção de subconjuntos de dados;
   #. Funções e métodos de classe.

### Objetivos {.unnumbered}

Este capítulo abordará:
   
   #. *Tidy data* (dados organizados);
   
   #. Concatenação de dados;
   
   #. Combinação (merge) de conjunto de dados.

```{mermaid}
%%| label: fig-prepdados
%%| fig-cap: "Preparação de dados, principais tópicos."

graph TD
    A[Preparação dos dados] --> B[Tidy Data]
    A --> C[Concatenação de dados]
    A --> D[merge]
```

\newpage

## Tidy data

Hadley Wickham, um dos mais proeminentes membros da comunidade **R**, fala sobre a ideia de *tidy data* (dados organizados). 

Com efeito, ele escreveu um artigo sobre esse conceito no *Journal of Statistical Software*. *Tidy data* é um framework para estruturar [conjuntos de dados]{.underline} a fim de que sejam facilmente [analisados]{.underline}. É usado principalmente como um objetivo a que devemos visar quando [limpamos os dados]{.underline}. Depois que você compreender o que é o conceito de *tidy data*, esse conhecimento fará com que a [coleta de dados]{.underline} seja muito mais fácil.

Então o que é *tidy data*? O artigo de Hadley Wickham o define como um conceito que atende aos seguintes critérios:

#. "**Cada observação deve formar uma linha**" (Observation)

   Uma observação é o conjunto de todas as medidas feitas em uma única unidade (ex: uma pessoa em um exame, um país em um ano específico).

   * O erro comum: Repetir a mesma observação em várias colunas ou espalhar os dados de uma mesma pessoa em tabelas diferentes sem necessidade.

   * O modo Tidy: Se você está analisando a saúde de pacientes, cada linha deve representar um paciente em um momento específico.

#. "**Cada variável deve formar uma coluna**" (Variable)

   Uma variável é um atributo que você mede (ex: Peso, Data, Temperatura).

   * O erro comum: Ter colunas chamadas "Janeiro", "Fevereiro" e "Março". Aqui, o nome da variável é "Mês", e Janeiro/Fevereiro são apenas valores.

   * O modo Tidy: Criar uma coluna única chamada Mes onde os valores são listados.

#. "**Cada tipo de unidade observacional forma uma tabela**"

   Esta regra foca na organização macro.

   Sobre o terceiro critério do tidy data, as observações devem ser coerentes com a tabela, tornando-a objetiva quanto ao tipo de informação que deve armazenar. A ideia é que a tabela tenha um propósito único; ao misturar assuntos diferentes em uma mesma estrutura, fere-se a normalização dos dados.

   * O erro comum: Misturar dados de "Clientes" com dados de "Vendas" na mesma tabela, causando redundância (ex: repetir o endereço do cliente toda vez que ele compra algo).

   * O modo Tidy: Ter uma tabela para Clientes e outra para Vendas, relacionando-as por um ID. Isso facilita a manutenção e evita erros de digitação.

\newpage

### Combinando conjuntos de dados

\newpage

## Concatenação
## Combinando vários conjuntos de dados
## Conclusão

\newpage

# Dados Ausentes
# Tidy data (dados organizados)

\newpage

# Referências